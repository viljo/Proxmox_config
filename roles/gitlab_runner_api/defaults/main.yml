---
# GitLab Runner deployment via Proxmox API

# Container configuration
gitlab_runner_container_id: 154
gitlab_runner_hostname: "gitlab-runner"
gitlab_runner_template_file: "debian-13-standard_13.1-2_amd64.tar.zst"

# Resources
gitlab_runner_cores: 4
gitlab_runner_memory: 8192
gitlab_runner_swap: 2048
gitlab_runner_disk: "50"
gitlab_runner_rootfs_storage: "local-lvm"

# Network
gitlab_runner_bridge: "vmbr3"
gitlab_runner_ip_address: "172.16.10.154"
gitlab_runner_netmask: "24"
gitlab_runner_gateway: "172.16.10.101"
gitlab_runner_dns_servers:
  - "1.1.1.1"
  - "8.8.8.8"

# Container settings
gitlab_runner_unprivileged: false
gitlab_runner_features: "nesting=1"

# GitLab Runner configuration
gitlab_runner_version: "18.5.0"
gitlab_runner_concurrent: 4

# GitLab connection
gitlab_runner_url: "https://gitlab.viljo.se"
gitlab_runner_registration_token: "{{ vault_gitlab_runner_registration_token }}"

# Runner executor configuration
gitlab_runner_executor: docker
gitlab_runner_tags:
  - docker
  - linux
  - self-hosted

# Docker executor configuration
gitlab_runner_docker_image: "debian:12"
gitlab_runner_docker_privileged: true
gitlab_runner_docker_volumes:
  - "/cache"
  - "/certs/client"
gitlab_runner_docker_pull_policy: "if-not-present"

# Passwords
gitlab_runner_root_password: "{{ vault_gitlab_runner_root_password }}"
