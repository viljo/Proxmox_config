---
# ADS-B Relay Configuration

# LXC Container
adsb_relay_lxc_id: 200
adsb_relay_deploy_path: /opt/docker-stack/adsb-relay

# Data source - ADS-B.fi OpenData API
adsb_api_url: "https://opendata.adsb.fi/api/v2/lat/{LAT}/lon/{LON}/dist/{DIST}"
adsb_api_locations: "65.8753,20.15,250"  # Vidsel Air Base, Sweden, 250NM radius
# Note: api2sbs enforces minimum 15 second loop time to respect API rate limits
# The ADS-B.fi OpenData API itself updates ~every 10 seconds per aircraft

# Raspberry Pi antenna feeder (real-time 1Hz local data)
adsb_pi_feeder_ip: "192.168.102.202"
adsb_pi_feeder_port: 30005

# ADSBHub worldwide aggregated feed (SBS format)
# Requires account at adsbhub.org and IP whitelist for data access
adsbhub_host: "data.adsbhub.org"
adsbhub_port: 5002
# Set to true when using nats-relay Y-splitter for adsbhub connection
# This removes direct adsbhub connection from readsb so Y-splitter can take over
use_adsbhub_splitter: true

# Exposed ports
adsb_beast_output_port: 30005
adsb_web_port: 8078
adsb_sbs_port: 32006  # Internal SBS input port for readsb
adsb_sbs_external_input_port: 30006  # External SBS input port for PingStation/remote feeders

# api2sbs target - direct to readsb SBS input (Y-splitter handles adsbhub separately)
api2sbs_server: "adsb-readsb"
api2sbs_port: 32006

# Location for map center (Vidsel Air Base, Sweden)
adsb_latitude: 65.8753
adsb_longitude: 20.15

# Service subdomain
adsb_subdomain: adsb

# Container settings
adsb_readsb_container: adsb-readsb
adsb_api2sbs_container: adsb-api2sbs
adsb_readsb_image: "ghcr.io/sdr-enthusiasts/docker-readsb-protobuf:latest"
adsb_api2sbs_image: "ghcr.io/sdr-enthusiasts/docker-api2sbs:latest"

# LXC internal IP (for NAT routing)
lxc_internal_ip: "172.31.31.10"
