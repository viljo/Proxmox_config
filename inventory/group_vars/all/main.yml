---
timezone: UTC
public_domain: viljo.se
loopia_api_user: "{{ vault_loopia_api_user }}"
loopia_api_password: "{{ vault_loopia_api_password }}"
traefik_acme_email: "admin@{{ public_domain }}"
traefik_dns_challenge_provider: loopia
loopia_dns_interface: "{{ wan_bridge }}"
loopia_dns_records:
  - host: "@"
    ttl: 600
  - host: links
  - host: auth  # oauth2-proxy for Traefik Forward Auth
  - host: gitlab
  - host: netbox
  - host: keycloak
  - host: nextcloud
  - host: jellyfin
  - host: homeassistant
  - host: coolify
  - host: zabbix
  - host: qbittorrent
  - host: wazuh
  - host: openmediavault
  - host: zipline
traefik_services:
  - name: viljo
    host: "{{ public_domain }}"
    container_id: "{{ demo_site_container_id }}"
    port: "{{ demo_site_service_port }}"
  - name: links
    host: "links.{{ public_domain }}"
    container_id: "{{ demo_site_container_id }}"
    port: "{{ demo_site_service_port }}"
  - name: auth
    host: "auth.{{ public_domain }}"
    url: "http://127.0.0.1:4180"  # oauth2-proxy on firewall (localhost)
  - name: gitlab
    host: "gitlab.{{ public_domain }}"
    container_id: "{{ gitlab_container_id }}"
    port: 80
  - name: keycloak
    host: "keycloak.{{ public_domain }}"
    container_id: "{{ keycloak_container_id }}"
    port: 8080
  - name: netbox
    host: "netbox.{{ public_domain }}"
    container_id: "{{ netbox_container_id }}"
    port: 8001
  - name: nextcloud
    host: "nextcloud.{{ public_domain }}"
    container_id: "{{ nextcloud_container_id }}"
    port: 80
  - name: jellyfin
    host: "jellyfin.{{ public_domain }}"
    container_id: "{{ jellyfin_container_id }}"
    port: 8096
  - name: homeassistant
    host: "homeassistant.{{ public_domain }}"
    container_id: "{{ homeassistant_container_id }}"
    port: 8123
  - name: coolify
    host: "coolify.{{ public_domain }}"
    container_id: "{{ coolify_container_id }}"
    port: 3000
  - name: zabbix
    host: "zabbix.{{ public_domain }}"
    container_id: "{{ zabbix_container_id }}"
    port: 80
  - name: qbittorrent
    host: "qbittorrent.{{ public_domain }}"
    container_id: "{{ qbittorrent_container_id }}"
    port: "{{ qbittorrent_web_port }}"
  - name: wazuh
    host: "wazuh.{{ public_domain }}"
    container_id: "{{ wazuh_container_id }}"
    port: 5601
    scheme: https
    insecure_skip_verify: true
  - name: openmediavault
    host: "openmediavault.{{ public_domain }}"
    container_id: "{{ openmediavault_container_id }}"
    port: 443
    scheme: https
    insecure_skip_verify: true
  - name: zipline
    host: "zipline.{{ public_domain }}"
    container_id: "{{ zipline_container_id }}"
    port: 3000
management_bridge: vmbr0
wan_bridge: vmbr2
public_bridge: vmbr3
dmz_subnet: 172.16.10.0/24
dmz_prefix: 24
dmz_gateway: 172.16.10.101
dmz_dns_servers:
  - 172.16.10.101
  - 1.1.1.1
dmz_netmask: 255.255.255.0
dmz_host_ip: 172.16.10.102
# Loopia DDNS runs as systemd service on Proxmox host, monitoring firewall container (ID: 101)
loopia_ddns_enabled: true
loopia_ddns_container_id: 101  # References firewall container to get WAN IP from
loopia_ddns_interface: eth0
loopia_ddns_interval: 15m
debian_template_image: "debian-13-standard_13.1-2_amd64.tar.zst"
debian_template_url: "http://download.proxmox.com/images/system/{{ debian_template_image }}"
debian_template_file: "/var/lib/vz/template/cache/{{ debian_template_image }}"
management_ip: 192.168.1.3
management_netmask: 255.255.0.0
management_gateway: 192.168.1.1
proxmox_root_authorized_keys:
  - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIWIfp3bKk+Re3aegfll17zNKahfav3TxEoUkNBBZo9l anders@Anderss-MacBook-Pro.local"
